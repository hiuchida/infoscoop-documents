# 禁止URL設定

禁止URLの管理方法について説明します。

## 1 インナーフレームへの表示制限

禁止URL管理画面はinfoScoop OpenSource管理画面の[禁止URL]タブよりアクセスします。

禁止URL管理画面は、ミニブラウザウィジェットなどのポータル内に表示されるインナーフレームへの表示を制限されるWebサイトの登録を行います。

Webサイトは、URLに対して判定される正規表現を指定します。

例えば、禁止URLに登録された正規表現にマッチするURLをミニブラウザで表示すると「入力されたURLのWebサイトは、管理者により閲覧を制限されています。」
という旨のメッセージが表示され、内容は表示されません。

インターネット上のサイトにはサイトがフレーム内に表示された場合、フレームを解除しブラウザ画面の最上位にサイトを表示させる処理が含まれている場合があります。こ
のような処理を行っているサイトをコンテンツの追加からミニブラウザウィジェットとしてユーザーパネルに設置すると、ミニブラウザウィジェットが表示された瞬間にフレー
ムが解除されブラウザ画面に設定されたURLが表示されてしまい本製品を利用することが出来なくなってしまいます。

禁止URLに問題のあるURL(正規表現)を登録することで、本製品の画面が乗っ取られてしまう事を防ぐことが出来ます。

禁止ＵＲＬのチェックは、ミニブラウザの他に以下の操作において行われます。

  * 各種ウィジェットに表示されたリンクをポータル内フレームへ表示する際
  * RSSを表示するウィジェットの最大化で、「全文表示」モード(右側の詳細表示パネルのインナーフレームに記事全文を表示するモード)が選択されている場合に記事の表示する際

## 2 禁止URLの判定ルール

禁止URL は、ミニブラウザに設定されたURLや各ウィジェットの記事のリンクが禁止URLに登録された正規表現にマッチするかで判定されます。

禁止URLに「`^!http://www.beacon-it.co.jp/news.*`」を追加した場合は正規表現にマッチする「`http://www.beacon-it.co.jp/news/summary.html`」や 「`http://www.beacon-it.co.jp/newspaper.html`」が禁止URLの対象となります。

**注意** URL(正規表現)には、JavaScriptで使用可能な正規表現を記述する必要があります。正規表現はブラウザ上でJavaScriptにより判定される
ため、正規表現の開始「^」と終了「$」を明示的に指定しない場合、あいまいな検索となります。

つまり、「`^http[s]?://www.beacon-it.co.jp/syanai/`」を追加した場合、「`^http[s]?://www.beacon-
it.co.jp/syanai/.*`」を指定した場合と同様の動作になり「`http://www.beacon-it.co.jp/syanai/doc`」や
「`https://www.beacon-it.co.jp/syanai/system/index.jsp`」も禁止URLの対象になります。

## 3 禁止URLの設定手順

禁止URLの追加は、![Add icon]をクリックすると空欄の行が追加されます。禁止URLとして登録する正規表現をURL(正
規表現)の列に入力してください。

禁止URLの設定は、URL(正規表現)のテキストボックスを直接変更します。

禁止URLの削除は、![Trash icon]アイコンをクリックします。

変更をサーバーへ保存するには、右上の[![Apply icon]変更を適用する]をクリックします。

**注意** 最終的にこのアイコンをクリックしないと、編集操作は破棄されます。 また、
設定がユーザー画面に反映されるのは、ユーザーがinfoScoopを再読み込みした時になります。

[![Refresh icon]読み直し]をクリックすると現在の変更を破棄し、現在のデータベースの内容を再読み込みします。


[Add icon]: ../../images/add_menu_tree.gif "追加"
[Apply icon]: ../../images/apply_changes.gif "変更を適用する"
[Refresh icon]: ../../images/refresh.gif "読み直し"
[Trash icon]: ../../images/trash.gif "ごみ箱"
